<!-- animation动画 -->


<h1 id="animation">Animation</h1>
<hr />
<p>CSS3 动画封装，浏览器需支持 CSS3 动画。</p>
<table class="fn-table fn-table-bordered fn-table-striped">
	<thead>
		<tr>
			<th>Class</th>
			<th>描述</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><code>.fn-animation-fade</code></td>
			<td>淡入</td>
		</tr>
		<tr>
			<td><code>.fn-animation-scale-up</code></td>
			<td>逐渐放大</td>
		</tr>
		<tr>
			<td><code>.fn-animation-scale-down</code></td>
			<td>逐渐缩小</td>
		</tr>
		<tr>
			<td><code>.fn-animation-slide-top</code></td>
			<td>顶部滑入</td>
		</tr>
		<tr>
			<td><code>.fn-animation-slide-bottom</code></td>
			<td>底部滑入</td>
		</tr>
		<tr>
			<td><code>.fn-animation-slide-left</code></td>
			<td>左侧滑入</td>
		</tr>
		<tr>
			<td><code>.fn-animation-slide-right</code></td>
			<td>右侧滑入</td>
		</tr>
		<tr>
			<td><code>.fn-animation-shake</code></td>
			<td>左右摇动</td>
		</tr>
		<tr>
			<td><code>.fn-animation-spin</code></td>
			<td>无限旋转</td>
		</tr>
	</tbody>
</table>
<h2 id="使用演示">使用演示</h2>
<p>点击按钮查看动画效果。</p>
<h3 id="默认效果">默认效果</h3>
<div>
	<div class="fn-g doc-animations">
		<div class="fn-u-sm-6 fn-u-md-3">
			<button class="fn-btn fn-btn-primary fn-btn-block"
				data-doc-animation="fade">Fade</button>
		</div>
		<div class="fn-u-sm-6 fn-u-md-3">
			<button class="fn-btn fn-btn-secondary fn-btn-block"
				data-doc-animation="scale-up">Scale Up</button>
		</div>
		<div class="fn-u-sm-6 fn-u-md-3">
			<button class="fn-btn fn-btn-success fn-btn-block"
				data-doc-animation="scale-down">Scale Down</button>
		</div>
		<div class="fn-u-sm-6 fn-u-md-3">
			<button class="fn-btn fn-btn-warning fn-btn-block"
				data-doc-animation="slide-top">Slide Top</button>
		</div>
	</div>
	<div class="fn-g doc-animations">
		<div class="fn-u-sm-6 fn-u-md-3">
			<button class="fn-btn fn-btn-primary fn-btn-block"
				data-doc-animation="slide-bottom">Slide Bottom</button>
		</div>
		<div class="fn-u-sm-6 fn-u-md-3">
			<button class="fn-btn fn-btn-secondary fn-btn-block"
				data-doc-animation="slide-left">Slide Left</button>
		</div>
		<div class="fn-u-sm-6 fn-u-md-3">
			<button class="fn-btn fn-btn-success fn-btn-block"
				data-doc-animation="slide-right">Slide Right</button>
		</div>
		<div class="fn-u-sm-6 fn-u-md-3">
			<button class="fn-btn fn-btn-warning fn-btn-block"
				data-doc-animation="shake">Shake</button>
		</div>
	</div>
	<span class="fn-icon-cog fn-animation-spin"></span>
</div>
<div>
	<pre><code>
&lt;div class="fn-animation-fade"&gt;...&lt;/div&gt;

&lt;span class="fn-icon-cog fn-animation-spin"&gt;&lt;/span&gt;
</code></pre>
</div>
<h3 id="反向动画">反向动画</h3>
<p>
	添加<code>.fn-animation-reverse</code>class，让动画反向运行（通过把<code>animation-direction</code> 
	设置为<code>reverse</code>实现）。
</p>
<div>
	<div class="fn-g doc-animations">
		<div class="fn-u-sm-6 fn-u-md-3">
			<button
				class="fn-btn fn-btn-primary fn-btn-block fn-animation-reverse"
				data-doc-animation="fade">Fade</button>
		</div>
		<div class="fn-u-sm-6 fn-u-md-3">
			<button
				class="fn-btn fn-btn-secondary fn-btn-block fn-animation-reverse"
				data-doc-animation="scale-up">Scale Up</button>
		</div>
		<div class="fn-u-sm-6 fn-u-md-3">
			<button
				class="fn-btn fn-btn-success fn-btn-block fn-animation-reverse"
				data-doc-animation="scale-down">Scale Down</button>
		</div>
		<div class="fn-u-sm-6 fn-u-md-3">
			<button
				class="fn-btn fn-btn-warning fn-btn-block fn-animation-reverse"
				data-doc-animation="slide-top">Slide Top</button>
		</div>
	</div>
	<div class="fn-g doc-animations">
		<div class="fn-u-sm-6 fn-u-md-3">
			<button
				class="fn-btn fn-btn-primary fn-btn-block fn-animation-reverse"
				data-doc-animation="slide-bottom">Slide Bottom</button>
		</div>
		<div class="fn-u-sm-6 fn-u-md-3">
			<button
				class="fn-btn fn-btn-secondary fn-btn-block fn-animation-reverse"
				data-doc-animation="slide-left">Slide Left</button>
		</div>
		<div class="fn-u-sm-6 fn-u-md-3">
			<button
				class="fn-btn fn-btn-success fn-btn-block fn-animation-reverse"
				data-doc-animation="slide-right">Slide Right</button>
		</div>
		<div class="fn-u-sm-6 fn-u-md-3">
			<button
				class="fn-btn fn-btn-warning fn-btn-block fn-animation-reverse"
				data-doc-animation="shake">Shake</button>
		</div>
	</div>
	<span class="fn-icon-cog fn-animation-spin fn-animation-reverse"></span>
	<script>$(function(){$(".doc-animations").on("click","[data-doc-animation]",function(){
		var a=$(this),
		i="fn-animation-"+a.data("docAnimation");
		a.data("animation-idle")&&clearTimeout(a.data("animation-idle")),
		a.removeClass(i),setTimeout(
				function(){
					a.addClass(i),
					a.data("animation-idle",setTimeout(function(){
						a.removeClass(i),a.data("animation-idle",!1)},500))},50)})});</script>
</div>
<div>
	<pre><code>
&lt;div class="fn-animation-fade fn-animation-reverse"&gt;...&lt;/div&gt;

&lt;span class="fn-icon-cog fn-animation-spin fn-animation-reverse"&gt;&lt;/span&gt;
</code></pre>
</div>
<h3 id="动画延迟执行">动画延迟执行</h3>
<p>
	添加以下 class 可以使动画延迟
	<code>1-6s</code>
	执行。
</p>
<ul>
	<li><code>.fn-animation-delay-1</code></li>
	<li><code>.fn-animation-delay-2</code></li>
	<li><code>.fn-animation-delay-3</code></li>
	<li><code>.fn-animation-delay-4</code></li>
	<li><code>.fn-animation-delay-5</code></li>
	<li><code>.fn-animation-delay-6</code></li>
</ul>
<div>
	<button id="animation-start" type="button" class="fn-btn fn-btn-danger">点击开始执行动画</button>
	<hr />
	<div id="animation-group">
		<p>
			<button type="button" class="fn-btn fn-btn-primary">没延迟的动画</button>
		</p>
		<p>
			<button type="button"
				class="fn-btn fn-btn-primary fn-animation-delay-1">延迟 1s 执行</button>
		</p>
		<p>
			<button type="button"
				class="fn-btn fn-btn-secondary fn-animation-delay-2">延迟 2s
				执行</button>
		</p>
		<p>
			<button type="button"
				class="fn-btn fn-btn-success fn-animation-delay-3">延迟 3s 执行</button>
		</p>
		<p>
			<button type="button"
				class="fn-btn fn-btn-warning fn-animation-delay-4">延迟 4s 执行</button>
		</p>
		<p>
			<button type="button"
				class="fn-btn fn-btn-danger fn-animation-delay-5">延迟 5s 执行</button>
		</p>
		<p>
			<button type="button"
				class="fn-btn fn-btn-primary fn-animation-delay-6">延迟 6s 执行</button>
		</p>
	</div>
	<script>$(function(){var n=$("#animation-group").find(".fn-btn"),a=[],o=!1,i="fn-animation-scale-up";$("#animation-start").on("click",function(){o||(o=!0,n.each(function(){var n=new $.Deferred;a.push(n);var o=$(this);FNUI.support.animation&&o.addClass(i).one(FNUI.support.animation.end,function(){o.removeClass(i),n.resolve()})}),$.when.apply(null,a).done(function(){o=!1,console.log("[AMUI] - 所有动画执行完成"),a=[]}))})});</script>
</div>
<div>
	<pre><code>
&lt;button id="animation-start" type="button" class="fn-btn fn-btn-danger"&gt;点击开始执行动画&lt;/button&gt;

&lt;hr/&gt;

&lt;div id="animation-group"&gt;
&lt;p&gt;&lt;button type="button" class="fn-btn fn-btn-primary"&gt;没延迟的动画&lt;/button&gt;&lt;/p&gt;

&lt;p&gt;&lt;button type="button" class="fn-btn fn-btn-primary fn-animation-delay-1"&gt;延迟 1s 执行&lt;/button&gt;&lt;/p&gt;
&lt;p&gt;&lt;button type="button" class="fn-btn fn-btn-secondary fn-animation-delay-2"&gt;延迟 2s 执行&lt;/button&gt;&lt;/p&gt;
&lt;p&gt;&lt;button type="button" class="fn-btn fn-btn-success fn-animation-delay-3"&gt;延迟 3s 执行&lt;/button&gt;&lt;/p&gt;
&lt;p&gt;&lt;button type="button" class="fn-btn fn-btn-warning fn-animation-delay-4"&gt;延迟 4s 执行&lt;/button&gt;&lt;/p&gt;
&lt;p&gt;&lt;button type="button" class="fn-btn fn-btn-danger fn-animation-delay-5"&gt;延迟 5s 执行&lt;/button&gt;&lt;/p&gt;
&lt;p&gt;&lt;button type="button" class="fn-btn fn-btn-primary fn-animation-delay-6"&gt;延迟 6s 执行&lt;/button&gt;&lt;/p&gt;
&lt;/div&gt;

&lt;script&gt;
  $(function() {
    var $btns = $('#animation-group').find('.fn-btn');
    var dfds = [];
    var animating = false;
    var animation = 'fn-animation-scale-up';

    $('#animation-start').on('click', function() {
      if (!animating) {
        animating = true;
        $btns.each(function() {
          var dfd = new $.Deferred();
          dfds.push(dfd);
          var $this = $(this);
          if (FNUI.support.animation) {
            $this.addClass(animation).one(FNUI.support.animation.end, function() {
              $this.removeClass(animation);
              dfd.resolve();
            });
          }
        });

        $.when.apply(null, dfds).done(function() {
          animating = false;
          console.log('[FNUI] - 所有动画执行完成');
          dfds = [];
        });
      }
    });
  });
&lt;/script&gt;

</code></pre>
</div>


